"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[997],{4997:function(e,t,n){n.r(t),n.d(t,{default:function(){return Y}});var a="Section_heading__6xxr-",r=n(2791),s=n(184),c=function(e){var t=e.title,n=e.children,r=a;return(0,s.jsxs)("section",{children:[(0,s.jsx)("h2",{className:r,children:t}),n]})},i=n(5861),o=n(885),l=n(7757),u=n.n(l),d="ContactForm_form__dhl+T",m="ContactForm_form__field__BGZZB",h="ContactForm_label__-cVXI",_="ContactForm_input__Bl93P",p="Button_button__wiIYs",x=function(e){var t=e.type,n=e.title,a=e.onClick,r=p;return(0,s.jsx)("button",{className:r,onClick:a,type:t,children:n})},f=n(8584),b=function(){var e=d,t=m,n=h,a=_,r=(0,f.wY)().data,c=void 0===r?[]:r,l=(0,f.Tn)(),p=(0,o.Z)(l,2),b=p[0],j=p[1].isLoading,v=function(){var e=(0,i.Z)(u().mark((function e(t){var n,a,r,s,i,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=t.target,a=n.name.value,r=n.number.value,!c.some((function(e){return e.name===a}))){e.next=7;break}return alert("".concat(a," is already in contacts")),e.abrupt("return");case 7:if(!c.some((function(e){return e.phone===r}))){e.next=11;break}return s=c.filter((function(e){return e.phone===r})),i=(0,o.Z)(s,1),l=i[0],alert("".concat(r," is already in contact with ").concat(l.name," ")),e.abrupt("return");case 11:return e.prev=11,e.next=14,b({name:a,phone:r});case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(11),alert("Failed to save the contact");case 19:n.reset();case 20:case"end":return e.stop()}}),e,null,[[11,16]])})));return function(t){return e.apply(this,arguments)}}();return(0,s.jsxs)("form",{className:e,onSubmit:v,children:[(0,s.jsxs)("div",{className:t,children:[(0,s.jsx)("label",{htmlFor:"contactName",className:n,children:"Name"}),(0,s.jsx)("input",{className:a,id:"contactName",type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]}),(0,s.jsxs)("div",{className:t,children:[(0,s.jsx)("label",{htmlFor:"contactTel",className:n,children:"Phone number"}),(0,s.jsx)("input",{className:a,id:"contactTel",type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),(0,s.jsx)(x,{type:"submit",title:j?"Adding...":"Add contact"})]})},j="ContactList_wrapper__VP-XU",v="ContactList_text__+NWAW",N="ContactList_button__7kL4l",g="Notification_notification__msg__PruAn",C=function(e){var t=e.message,n=g;return(0,s.jsx)("p",{className:n,children:t})},k=n(5048),w=n(5984),y=n(8402),F="Loader_item__iys6Z",Z=function(){var e=F;return(0,s.jsx)("div",{className:e,children:(0,s.jsx)(y.NB,{visible:!0,height:"150",width:"150",ariaLabel:"blocks-loading",wrapperStyle:{},wrapperClass:"blocks-wrapper",colors:["#e15b64","#f47e60","#f8b26a","#abbd81","#849b87"]})})},L=function(){var e,t=j,n=v,a=N,c=(0,f.wY)(),i=c.data,l=void 0===i?[]:i,u=c.isLoading,d=c.isSuccess,m=c.isError,h=c.error,_=(0,k.v9)((function(e){return e.filter})),p=(0,f.Nt)(),x=(0,o.Z)(p,1)[0],b=(0,r.useMemo)((function(){return l.filter((function(e){return e.name.toLowerCase().includes(_)}))}),[l,_]);return u?e=(0,s.jsx)(Z,{}):d?e=0!==b.length?(0,s.jsx)("ul",{className:t,children:b.map((function(e){return(0,s.jsxs)("li",{className:n,children:[(0,s.jsx)("span",{children:"".concat(e.name,":\n               ").concat(e.phone)}),(0,s.jsx)("button",{type:"button",className:a,onClick:function(){return x({id:e.id})},children:"Delete"})]},(0,w.x0)())}))}):(0,s.jsx)(C,{message:"Your phonebook is empty"}):m&&(e=(0,s.jsx)(C,{message:h})),(0,s.jsx)(s.Fragment,{children:e})},A="Filter_field__IlYZE",B="Filter_text__uqQRu",P="Filter_input__N7T3z",T=n(1509),z=function(){var e=A,t=B,n=P,a=(0,k.I0)();return(0,s.jsxs)("div",{className:e,children:[(0,s.jsx)("p",{className:t,children:"Find contact by name"}),(0,s.jsx)("input",{className:n,type:"text",onChange:function(e){var t=e.target.value.toLowerCase();a((0,T.T)(t))}})]})},Y=function(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c,{title:"Phonebook",children:(0,s.jsx)(b,{})}),(0,s.jsx)(c,{title:"Contacts",children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(z,{}),(0,s.jsx)(L,{})]})})]})}}}]);
//# sourceMappingURL=997.3c9e4d09.chunk.js.map
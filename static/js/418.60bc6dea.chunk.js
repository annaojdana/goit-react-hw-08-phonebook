"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[418],{4418:function(e,t,n){n.r(t),n.d(t,{default:function(){return R}});var a=n(2791),r=n(9434),c="Section_heading__6xxr-",s="Section_wrapper__KwRRs",i=n(3329),o=function(e){var t=e.title,n=e.children,a=c,r=s;return(0,i.jsxs)("section",{className:r,children:[(0,i.jsx)("h2",{className:a,children:t}),n]})},u=n(885),l=n(5861),m=n(7757),d=n.n(m),_="ContactForm_form__dhl+T",h="ContactForm_form__field__BGZZB",p="ContactForm_label__-cVXI",x="ContactForm_input__Bl93P",f="Button_button__wiIYs",b=function(e){var t=e.type,n=e.title,a=e.onClick,r=f;return(0,i.jsx)("button",{className:r,onClick:a,type:t,children:n})},j=function(e){return e.contacts.items},v=function(e){return e.contacts.isLoading},N=function(e){return e.contacts.filter},g=n(6052),C=function(){var e=_,t=h,n=p,a=x,c=(0,r.I0)(),s=(0,r.v9)(j),o=function(){var e=(0,l.Z)(d().mark((function e(t){var n,a,r,i,o,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=t.target,a=n.name.value,r=n.number.value,!s.some((function(e){return e.name===a}))){e.next=7;break}return alert("".concat(a," is already in contacts")),e.abrupt("return");case 7:if(!s.some((function(e){return e.number===r}))){e.next=11;break}return i=s.filter((function(e){return e.number===r})),o=(0,u.Z)(i,1),l=o[0],alert("".concat(r," is already in contact with ").concat(l.name," ")),e.abrupt("return");case 11:return e.prev=11,e.next=14,c((0,g.uK)({name:a,number:r}));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(11),alert("Failed to save the contact");case 19:n.reset();case 20:case"end":return e.stop()}}),e,null,[[11,16]])})));return function(t){return e.apply(this,arguments)}}();return(0,i.jsxs)("form",{className:e,onSubmit:o,children:[(0,i.jsxs)("div",{className:t,children:[(0,i.jsx)("label",{htmlFor:"contactName",className:n,children:"Name"}),(0,i.jsx)("input",{className:a,id:"contactName",type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]}),(0,i.jsxs)("div",{className:t,children:[(0,i.jsx)("label",{htmlFor:"contactTel",className:n,children:"Phone number"}),(0,i.jsx)("input",{className:a,id:"contactTel",type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),(0,i.jsx)(b,{type:"submit",title:"Add contact"})]})},k="ContactList_wrapper__VP-XU",y="ContactList_text__+NWAW",F="ContactList_button__7kL4l",w="Notification_notification__msg__PruAn",Z=function(e){var t=e.message,n=w;return(0,i.jsx)("p",{className:n,children:t})},A=n(5984),I=n(3853),L=n(7214),z=function(){var e=k,t=y,n=F,c=(0,r.I0)(),s=(0,r.v9)(j),o=(0,r.v9)(v),u=(0,r.v9)(N),l=(0,a.useMemo)((function(){return console.log(s),s.filter((function(e){return e.name.toLowerCase().includes(u)}))}),[s,u]);return(0,i.jsx)(i.Fragment,{children:o?(0,i.jsx)(L.Z,{}):0!==l.length?(0,i.jsx)("ul",{className:e,children:l.map((function(e){return(0,i.jsxs)("li",{className:t,children:[(0,i.jsx)("span",{children:"".concat(e.name,":\n               ").concat(e.number)}),(0,i.jsx)("button",{type:"button",className:n,onClick:function(){return c((0,g.GK)(e.id))},children:(0,i.jsx)(I.hT1,{})})]},(0,A.x0)())}))}):(0,i.jsx)(Z,{message:"Your phonebook is empty"})})},B="Filter_field__IlYZE",P="Filter_text__uqQRu",T="Filter_input__N7T3z",Y=n(1538),q=function(){var e=B,t=P,n=T,a=(0,r.I0)();return(0,i.jsxs)("div",{className:e,children:[(0,i.jsx)("p",{className:t,children:"Find contact by name"}),(0,i.jsx)("input",{className:n,type:"text",onChange:function(e){var t=e.target.value.toLowerCase();a((0,Y.xO)(t))}})]})},K=n(6340),R=function(){var e=(0,r.I0)(),t=(0,r.v9)(v),n=(0,K.a)().user;return(0,a.useEffect)((function(){e((0,g.yF)())}),[e]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o,{title:"Welcome ".concat(n.name," in your phonebook"),children:(0,i.jsx)(C,{})}),(0,i.jsx)(o,{title:"Your contacts",children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(q,{}),t?(0,i.jsx)(L.Z,{}):(0,i.jsx)(z,{})]})})]})}}}]);
//# sourceMappingURL=418.60bc6dea.chunk.js.map